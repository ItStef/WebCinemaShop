<div class="movie-details-container" *ngIf="movie">
  <mat-card class="movie-card">
    <mat-card-header>
      <mat-card-title>{{movie.title}}</mat-card-title>
      <mat-card-subtitle>Directed by: {{movie.director}}</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <p><strong>Genre:</strong> {{movie.genre}}</p>
      <p><strong>Release Date:</strong> {{movie.releaseDate | date:'mediumDate'}}</p>
      <p><strong>Description:</strong> {{movie.description}}</p>
      <p><strong>Price:</strong> ${{movie.price}}</p>
      <p><strong>Duration:</strong> {{movie.duration}} minutes</p>
      <p><strong>Cast:</strong> {{movie.cast.join(', ')}}</p>
      <p *ngIf="movie.averageRating"><strong>Average Rating:</strong> {{movie.averageRating | number:'1.1-1'}} / 10</p>
      <p *ngIf="movie.reviews && movie.reviews.length > 0"><strong>Reviews:</strong></p>
      <ul *ngIf="movie.reviews && movie.reviews.length > 0">
        <li *ngFor="let review of movie.reviews">
          <strong>{{review.userName}}:</strong> {{review.comment}} (Rating: {{review.rating}}/10 - {{review.createdAt | date:'short'}})
        </li>
      </ul>
    </mat-card-content>

    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="goBackToSearch()">Back to Search</button>
    </mat-card-actions>
  </mat-card>
</div>

<div *ngIf="!movie" class="error-message">
  <p>Movie not found</p>
  <button mat-raised-button color="primary" (click)="goBackToSearch()">Back to Search</button>
</div>